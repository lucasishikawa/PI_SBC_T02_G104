<!DOCTYPE html>
<html lang="pt-br" dir="ltr">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="../bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="../css/style.css">
    <title>Restaurante ARTE DO TEMPERO</title>

    <script language="JavaScript">
      function Verifica() {
        var Nome = document.Formulario.NOME.value;
        var Dn = document.Formulario.DN.value;
        var Cel = document.Formulario.CELULAR.value;
        var Endereco = document.Formulario.ENDERECO.value;
        var Bairro = document.Formulario.BAIRRO.value;
        var Cep = document.Formulario.CEP.value;
        var Cidade = document.Formulario.CIDADE.value;
        if (Nome == '' || Dn == '' || Cel == '' || Endereco == '' || Bairro == '' || Cep == '' || Cidade == '') {
          alert('Todos os campos do formulário devem estar preenchidos.');
          return false;
        } else {
          alert("Cliente cadastrado com sucesso.");
          document.Formulario.reset;
        }

        var scrollEventHandler = function () {
          window.scroll(0, window.pageYOffset)
        }
        window.addEventListener("scroll", scrollEventHandler, false);

      }
    </script>

    <style>
      body,
      html {
        max-width: 100%;
        overflow-x: hidden;
      }
    </style>

  </head>

  <body>

    <div class="dados">

      <form name="Formulario" onsubmit="return Verifica()" method="post" enctype="text/plain">

        <hr>
        <div class="nomeForm">
          <font color="#A52A2A" size="3">Cadastro de Cliente</font>
        </div>
        <hr>
        <div class="tabular">
          <div class="divide">
            <div class="desc">
              Nome:</div>
          </div>
          <label for="NOME" class="form-label visually-hidden">Nome</label>
          <div class="entrada"><input class="entradaGrande" type="text" name="NOME" id="NOME" size="70">
          </div>
        </div>
        <div class="tabular">
          <div class="divide">
            <div class="desc">
              Data de Nascimento:</div>
          </div>
          <div class="entrada">
            <label for="DN" class="form-label visually-hidden">Data de Nascimento</label>
            <input class="entradaPequena" type="text" name="DN" id="DN" size="10" maxlength="10" placeholder="dd/mm/aaaa" alt="Data de Nascimento">
          </div>
        </div>
        <div class="tabular">
          <div class="divide">
            <div class="desc">
              Sexo:</div>
          </div>
          <div class="entrada">
            <label for="SEXO" class="form-label visually-hidden">Sexo</label>
            <select class="entradaPequena" name="SEXO" id="SEXO">
              <option selected="selected" value="Feminino">Feminino</option>
              <option value="Masculino">Masculino</option>
            </select>
          </div>
        </div>
        <div class="tabular">
          <div class="divide">
            <div class="desc">
              Celular:</div>
          </div>
          <div class="entrada">
            <label for="CELULAR" class="form-label visually-hidden">Celular</label>
            <input class="entradaPequena" type="text" name="CELULAR" id="CELULAR" size="14" maxlength="14" placeholder="(00)00000-0000">
          </div>
        </div>
        <div class="tabular">
          <div class="divide">
            <div class="desc">
              CEP:</div>
          </div>
          <div class="entrada">
            <label for="CEP" class="form-label visually-hidden">CEP</label>
            <input class="entradaPequena" type="text" name="CEP" id="CEP" size="10" maxlength="9" placeholder="00000-000">
          </div>
        </div>
        <div class="tabular">
          <div class="divide">
            <div class="desc">
              Endereço:</div>
          </div>
          <div class="entrada">
            <label for="ENDERECO" class="form-label visually-hidden">Endereço</label>
            <input class="entradaGrande" type="text" name="ENDERECO" id="ENDERECO" size="70" placeholder="Rua e Número">
          </div>
        </div>
        <div class="tabular">
          <div class="divide">
            <div class="desc">
              Bairro:</div>
          </div>
          <div class="entrada">
            <label for="BAIRRO" class="form-label visually-hidden">Bairro</label>
            <input class="entradaGrande" type="text" name="BAIRRO" id="BAIRRO" size="22">
          </div>
        </div>
        <div class="tabular">
          <div class="divide">
            <div class="desc">
              Cidade:</div>
          </div>
          <div class="entrada">
            <label for="CIDADE" class="form-label visually-hidden">Cidade</label>
            <input class="entradaGrande" type="text" name="CIDADE" id="CIDADE" size="35">
          </div>
        </div>
        <div class="tabular">
          <div class="divide">
            <div class="desc">
              Estado:</div>
          </div>
          <div class="entrada">
            <label for="ESTADO" class="form-label visually-hidden">Estado</label>
            <input class="entradaPequena" type="text" name="ESTADO" id="ESTADO" size="2" maxlength="2" placeholder="XX">
          </div>
        </div>
        <div class="tabular envio">
          <input type="reset" value="Limpar">
          <input type="submit" value="Enviar">
        </div>
      </div>
    </form>

    <script src="../js/jquery-3.6.0.min.js"></script>
    <script type="text/javascript">

      var rua = '#ENDERECO';
      var bairro = '#BAIRRO';
      var cidade = '#CIDADE';
      var uf = '#ESTADO';
      var cep = '#CEP';

      /* CODIGO BRUTO */
      var $jq = jQuery.noConflict();
      $jq(document).ready(function () {

        function limpa_formulário_cep() {
          // Limpa valores do formulário de cep.
          $jq(ENDERECO).val('');
          $jq(BAIRRO).val('');
          $jq(CIDADE).val('');
          $jq(ESTADO).val('');
          $jq(CEP).val('');
        }

        //Quando o campo cep perde o foco.
        $jq(CEP).blur(function () {
          //Nova variável "cep" somente com dígitos.
          var cepx = $jq(this).val().replace(/\D/g, '');

          //Verifica se campo cep possui valor informado.
          if (cepx != '') {
          //Expressão regular para validar o CEP.
              var validacep = /^[0-9]{8}$/;
              //Valida o formato do CEP.
              if (validacep.test(cepx)) {
                //Preenche os campos com "..." enquanto consulta webservice.
                $jq(ENDERECO).val('...carregando');
                $jq(BAIRRO).val('...carregando');
                $jq(CIDADE).val('...carregando');
                $jq(ESTADO).val('...carregando');

                //Consulta o webservice viacep.com.br/
                $jq.getJSON('https://viacep.com.br/ws/' + cepx + '/json/?callback=?', function (dados) {
                  if (!('erro' in dados)) {
                    //Atualiza os campos com os valores da consulta.
                    $jq(ENDERECO).val(dados.logradouro);
                    $jq(BAIRRO).val(dados.bairro);
                    $jq(CIDADE).val(dados.localidade);
                    $jq(ESTADO).val(dados.uf //end if.);
                  } else {
                    //CEP pesquisado não foi encontrado.
                    limpa_formulário_cep();
                    alert('CEP não encontrado.');
                  }
                } //end if.);
              } else {
                //cep é inválido.
                limpa_formulário_cep();
                alert('Formato de CEP inválido.'); //end if.
              }
            } else {
              //cep sem valor, limpa formulário.
              limpa_formulário_cep();
            }
          }
        );
      });
    </script>

  </body>
</html>
